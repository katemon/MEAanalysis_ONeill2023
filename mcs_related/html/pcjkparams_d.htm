<HTML>                                              
<HEAD>                                              
  <TITLE>/</TITLE>                                  
  <META NAME="GENERATOR" CONTENT="HTML-TOOLBOX ">   
</HEAD>                                             
<BODY BACKGROUND="iepback.gif"> 
<HR WIDTH="100%"></P> 
<CENTER><P><FONT COLOR="#000000"><FONT SIZE=+1>Cross-linked m-file</FONT></FONT></P></CENTER> 
<CENTER><P><FONT COLOR="#000000"><FONT SIZE=--1></FONT></FONT></P></CENTER> 
<CENTER><P><FONT COLOR="#000000"><FONT SIZE=+2>pcjkparams_d.m</FONT></FONT></P></CENTER> 
<CENTER><P><FONT COLOR="#000000"><FONT SIZE=+1>Located in:</FONT></FONT></P></CENTER> 
<CENTER><P><FONT COLOR="#000000"><FONT SIZE=+1>MEATools</FONT></FONT></P></CENTER> 
<P><HR WIDTH="100%"></P> 
<P><FONT COLOR="#000000"><FONT SIZE=+1>Function synopsis</FONT></FONT></P> 
<P><FONT COLOR="#000000"><FONT SIZE=+1> PCJKPARAMS_D - principle component analysis of spike waveforms                                                                                      </FONT></FONT></P> 
<P><HR WIDTH="100%"></P> 
<P><FONT COLOR="#000000"><FONT SIZE=+1>Function comments</FONT></FONT></P> 
<pre> 
% [usedidx, junkvalmat, vfMinmat, vthall] = pcjkparams_d(varargin) 
% uses information found in RACKSETUP and PARSESETUP in the workspace 
% to retrieve spike waveforms from raw MCRack spike data files, calculate 
% the principle components and generate a M x N matrix PARMAT for M spikes 
% and PC coefficients for N components. 
% This version can only be used with datastream objects. The object must 
% be given by 
% 
% ..., 'dstreamobj', D, .... 
% 
% where D is your datastream variable. 
% 
% IMPORTANT: PARMAT is always a matrix of size &lt;PARSESETUP.Nspx&gt; x &lt;use_npcs+2&gt;, 
%                   even if the PCs are calculated for a single electrode/subpopulation 
%                   only. In this case rows not corresponding to spikes of this 
%                   population are zeros! The first two columns of PARMAT give the 
%                   spike minimum and maximum. 
% 
% A number of configuration parameters can be adjusted on the command line 
% with parameter/value pairs. The default values are set in the file 
% pcjkparams_def.m . Possible parameters are: 
% 
% Parameter         legal values 
% 'dataset'         ChannelIDs (cid) or electrode name strings. When cids are used 
%                   'datatype' must be adjusted as well 
% 'datatype'        'electrodename' (default) or 'cid' 
% 'tracetype'       'raw' or 'filtered' (default). Indicates to use raw or filtered data 
%                   for PCVECTOR calculation 
% 'use_npcs'        any integer (default is 8), no. of PC components to store in 
%                   PARMAT and PCVECTORS 
% 'pcs'             precalculated principle component vectors, set as [] (def.) if PCs 
%                   should be calculated anew, must be a 3D matrix, 1 layer/electrode, 
%                   one vector/column, length of PCs must be spike cutout length 
% 'tracelength'     ticks in the datatraces, default is RACKSETUP.total_cutout_ticks, 
%                   other values were not tested yet 
% 'datafile'        path\name of the MCS data file, default is RACKSETUP.sourcefile 
% 'subpopulation'   0 (default) or other integers present in CLUSTERNUMBER, PCs are 
%                   calculated from these traces only 
% 'findjunk'        'yes' (default) or 'no' 
% 'RAMsize'         size of your RAM memory im megabyte (256) 
% 'UseSpikesForPC'  0 to calculate PCs from all spikes (default), any other integer to 
%                   define otherwise. 
% 
% 
% 
% S. Rotter/U. Egert 2/98 
% 
% See also PCJKPARAMS_D 
</pre> 
<P><HR WIDTH="100%"></P> 
<P><FONT COLOR="#000000"><FONT SIZE=+1>m-files called by pcjkparams_d.m</FONT></FONT></P> 
<UL> 
<LI><A HREF ="pvpmod.htm">pvpmod</A></LI> 
<LI><A HREF ="getcid.htm">getcid</A></LI> 
<LI><A HREF ="getidx.htm">getidx</A></LI> 
<LI><A HREF ="pc.htm">pc</A></LI> 
<LI><A HREF ="pcjkparams_def.htm">pcjkparams_def</A></LI> 
<LI><A HREF ="setfield.htm">setfield</A></LI> 
<LI><A HREF ="trace2mat.htm">trace2mat</A></LI> 
</UL> 
<P><HR WIDTH="100%"></P> 
<P><FONT COLOR="#000000"><FONT SIZE=+1>m-files that call pcjkparams_d.m</FONT></FONT></P> 
<UL> 
<LI><A HREF ="rdspx9.htm">rdspx9</A></LI> 
<LI><A HREF ="redo_pcjkparams.htm">redo_pcjkparams</A></LI> 
</UL> 
<P><HR WIDTH="100%"></P> 
<P><FONT COLOR="#0000FF"><FONT SIZE=-0>Written by  Ulrich Egert  11/11 2004 <IMG SRC = "copyright.gif" ></FONT></FONT></P> 
<P><FONT COLOR="#0000FF"><FONT SIZE=-0>E-mail:</B><A HREF = "mailto:egert@biologie.uni-freiburg.de">egert@biologie.uni-freiburg.de</A></H4></FONT></FONT></P> 
